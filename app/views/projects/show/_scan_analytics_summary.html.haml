:ruby
  version = @scan_data.analysis_metrics.version.present? ? @scan_data.analysis_metrics.version : nil
  last_analysed = @scan_data.analysis_metrics.build_date
  loc = @scan_data.analysis_metrics.loc
  defect_density = @scan_data.analysis_metrics.defect_density&.score
  total_defects = @scan_data.analysis_metrics.total_count
  outstanding_count = @scan_data.analysis_metrics.outstanding_count
  fixed_count = @scan_data.analysis_metrics.fixed_count
.row.row-eq-height.project_row
  %h4#scan_defect.text-left Static Analysis ( Generated by Coverity Scan with the url to <a href="#{@scan_data.project_url}">Scan Project</a> )
.row.project_row
  .col-md-12#scan_defect
    %h4.title Version: #{version}
    .col-md-12
      .box
        %dl.kpi
          %dd.snapshot-date
            %em= last_analysed
          %dt Last Analyzed
      .box
        %dl.kpi
          %dd
            %em= number_with_delimiter(loc)  || 'N/A'
          %dt Lines of Code Analyze
      .box
        %dl.kpi
          %dd
            %em= defect_density.to_f || 'N/A'
          %dt Defect Density
.row.project_row
  %h4#scan_defect.title Defects by status for current build
  .col-md-6#scan_defect
    .box
      %dl.kpi
        %dd
          %em= number_with_delimiter(total_defects) || '0'
        %dt Total defects
    .box
      %dl.kpi
        %dd
          %em= number_with_delimiter(outstanding_count) || '0'
        %dt Outstanding
    .box
      %dl.kpi
        %dd
          %em= number_with_delimiter(fixed_count) || '-'
        %dt Fixed
  .col-md-6#scan_defect_table
    = render partial: 'projects/show/cwe'
