class Vulnerability < ActiveRecord::Base
  enum severity: [:low, :medium, :high]

  has_and_belongs_to_many :releases, counter_cache: true

  def recent_releases
    releases = self.releases.order(released_on: :desc).first(10)
    releases.map(&:version).join(', ') unless releases.empty?
  end
end
